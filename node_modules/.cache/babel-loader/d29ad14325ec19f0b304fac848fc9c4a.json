{"ast":null,"code":"import _regeneratorRuntime from\"/data/data/com.termux/files/home/short-url/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/data/data/com.termux/files/home/short-url/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/data/data/com.termux/files/home/short-url/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useEffect,useState}from\"react\";import CopyToClipboard from'react-copy-to-clipboard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LinkResult=function LinkResult(_ref){var inputValue=_ref.inputValue;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),shortenLink=_useState2[0],setShortenLink=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),copied=_useState4[0],setCopied=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading(true);_context.next=4;return axios(\"https://api.shrtco.de/v2/shorten?url=\".concat(inputValue));case 4:res=_context.sent;setShortenLink(res.data.result.full_short_link);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);setError(_context.t0);case 11:_context.prev=11;setLoading(false);return _context.finish(11);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,8,11,14]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();useEffect(function(){if(inputValue.length){fetchData();}},[inputValue]);useEffect(function(){var timer=setTimeout(function(){setCopied(false);},1000);return function(){return clearTimeout(timer);};},[copied]);if(loading){return/*#__PURE__*/_jsx(\"p\",{className:\"noData\",children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsx(\"p\",{className:\"noData\",children:\"error when generating try to use new link\"});}return/*#__PURE__*/_jsx(_Fragment,{children:shortenLink&&/*#__PURE__*/_jsxs(\"div\",{className:\"result\",children:[/*#__PURE__*/_jsx(\"p\",{children:shortenLink}),/*#__PURE__*/_jsx(CopyToClipboard,{text:shortenLink,onCopy:function onCopy(){return setCopied(true);},children:/*#__PURE__*/_jsx(\"button\",{className:copied?\"copied\":\"\",children:\"Copy\"})})]})});};export default LinkResult;","map":{"version":3,"names":["axios","useEffect","useState","CopyToClipboard","LinkResult","inputValue","shortenLink","setShortenLink","copied","setCopied","loading","setLoading","error","setError","fetchData","res","data","result","full_short_link","length","timer","setTimeout","clearTimeout"],"sources":["/data/data/com.termux/files/home/short-url/src/LinkResult.js"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport CopyToClipboard from 'react-copy-to-clipboard';\n\n const LinkResult = ({ inputValue }) => {\n  const [shortenLink, setShortenLink] = useState(\"\");\n  const [copied, setCopied] = useState(false)\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  \n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      const res = await axios(`https://api.shrtco.de/v2/shorten?url=${inputValue}`);\n      setShortenLink(res.data.result.full_short_link);\n    } catch(err) {\n      setError(err);\n    } finally {\n      setLoading(false)\n    }\n  }\n  \n  useEffect(() => {\n    if(inputValue.length) {\n      fetchData();\n    }\n  }, [inputValue]);\n  \n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setCopied(false);\n    }, 1000);\n    \n    return () => clearTimeout(timer);\n  }, [copied]);\n\n   if(loading) {\n     return <p className=\"noData\">Loading...</p>\n   }\n   if(error) {\n     return <p className=\"noData\">error when generating try to use new link</p>\n   }\n\n  return (\n    <>\n     {shortenLink && (\n    <div className=\"result\">\n    <p>{shortenLink}</p>\n    <CopyToClipboard\n     text={shortenLink}\n     onCopy={() => setCopied(true)}\n     >\n    <button className={copied ? \"copied\" : \"\"}>Copy</button>\n    </CopyToClipboard>\n    </div>\n    \n     )}\n     </>\n    )\n}\n\nexport default LinkResult"],"mappings":"gZAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,gBAAP,KAA4B,yBAA5B,C,6IAEC,GAAMC,WAAU,CAAG,QAAbA,WAAa,MAAoB,IAAjBC,WAAiB,MAAjBA,UAAiB,CACtC,cAAsCH,QAAQ,CAAC,EAAD,CAA9C,wCAAOI,WAAP,eAAoBC,cAApB,eACA,eAA4BL,QAAQ,CAAC,KAAD,CAApC,yCAAOM,MAAP,eAAeC,SAAf,eACA,eAA8BP,QAAQ,CAAC,KAAD,CAAtC,yCAAOQ,OAAP,eAAgBC,UAAhB,eACA,eAA0BT,QAAQ,CAAC,KAAD,CAAlC,yCAAOU,KAAP,eAAcC,QAAd,eAEA,GAAMC,UAAS,6FAAG,6JAEdH,UAAU,CAAC,IAAD,CAAV,CAFc,sBAGIX,MAAK,gDAAyCK,UAAzC,EAHT,QAGRU,GAHQ,eAIdR,cAAc,CAACQ,GAAG,CAACC,IAAJ,CAASC,MAAT,CAAgBC,eAAjB,CAAd,CAJc,+EAMdL,QAAQ,aAAR,CANc,yBAQdF,UAAU,CAAC,KAAD,CAAV,CARc,qGAAH,kBAATG,UAAS,2CAAf,CAYAb,SAAS,CAAC,UAAM,CACd,GAAGI,UAAU,CAACc,MAAd,CAAsB,CACpBL,SAAS,GACV,CACF,CAJQ,CAIN,CAACT,UAAD,CAJM,CAAT,CAMAJ,SAAS,CAAC,UAAM,CACd,GAAMmB,MAAK,CAAGC,UAAU,CAAC,UAAM,CAC7BZ,SAAS,CAAC,KAAD,CAAT,CACD,CAFuB,CAErB,IAFqB,CAAxB,CAIA,MAAO,kBAAMa,aAAY,CAACF,KAAD,CAAlB,EAAP,CACD,CANQ,CAMN,CAACZ,MAAD,CANM,CAAT,CAQC,GAAGE,OAAH,CAAY,CACV,mBAAO,UAAG,SAAS,CAAC,QAAb,wBAAP,CACD,CACD,GAAGE,KAAH,CAAU,CACR,mBAAO,UAAG,SAAS,CAAC,QAAb,uDAAP,CACD,CAEF,mBACE,yBACEN,WAAW,eACb,aAAK,SAAS,CAAC,QAAf,wBACA,mBAAIA,WAAJ,EADA,cAEA,KAAC,eAAD,EACC,IAAI,CAAEA,WADP,CAEC,MAAM,CAAE,wBAAMG,UAAS,CAAC,IAAD,CAAf,EAFT,uBAIA,eAAQ,SAAS,CAAED,MAAM,CAAG,QAAH,CAAc,EAAvC,kBAJA,EAFA,GAFA,EADF,CAgBD,CAvDA,CAyDD,cAAeJ,WAAf"},"metadata":{},"sourceType":"module"}